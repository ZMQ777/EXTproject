/**
 * Base class for all Ext components.
 *
 * The Component base class has built-in support for basic hide/show and enable/disable
 * and size control behavior.
 *
 * ## xtypes
 *
 * Every component has a specific xtype, which is its Ext-specific type name, along with
 * methods for checking the xtype like {@link #getXType} and {@link #isXType}. See the
 * [Component Guide][../../../core_concepts/components.html] for more information on xtypes
 * and the Component hierarchy.
 *
 * ## Finding components
 *
 * All Components are registered with the {@link Ext.ComponentManager} on construction so
 * that they can be referenced at any time via {@link Ext#getCmp Ext.getCmp}, passing the
 * {@link #id}.
 *
 * Additionally the {@link Ext.ComponentQuery} provides a CSS-selectors-like way to look
 * up components by their xtype and many other attributes.  For example the following code
 * will find all textfield components inside component with `id: 'myform'`:
 *
 *     Ext.ComponentQuery.query('#myform textfield');
 *
 * ## Extending Ext.Component
 *
 * All subclasses of Component may participate in the automated Ext component
 * life cycle of creation, rendering and destruction which is provided by the
 * {@link Ext.container.Container Container} class. Components may be added to a Container
 * through the {@link Ext.container.Container#cfg-items items} config option at the time
 * the Container is created, or they may be added dynamically via the
 * {@link Ext.container.Container#method-add add} method.
 *
 * All user-developed visual widgets that are required to participate in automated
 * life cycle and size management should subclass Component.
 *
 * See the Creating new UI controls chapter in [Component Guide][../../../core_concepts/components.html]
 * for details on how and to either extend or augment Ext JS base classes to create custom Components.
 *
 * ## The Ext.Component class by itself
 *
 * Usually one doesn't need to instantiate the Ext.Component class. There are subclasses
 * which implement specialized use cases, covering most application needs. However it is
 * possible to instantiate a base Component, and it can be rendered to document, or handled
 * by layouts as the child item of a Container:
 *
 *     @example
 *     Ext.create('Ext.Component', {
 *         html: 'Hello world!',
 *         width: 300,
 *         height: 200,
 *         padding: 20,
 *         style: {
 *             color: '#FFFFFF',
 *             backgroundColor:'#000000'
 *         },
 *         renderTo: Ext.getBody()
 *     });
 *
 * The Component above creates its encapsulating `div` upon render, and use the configured
 * HTML as content. More complex internal structure may be created using the
 * {@link #renderTpl} configuration, although to display database-derived mass data, it is
 * recommended that an ExtJS data-backed Component such as a {@link Ext.view.View View},
 * {@link Ext.grid.Panel GridPanel}, or {@link Ext.tree.Panel TreePanel} be used.
 */
Ext.define('Ext.Component',{alternateClassName:'Ext.AbstractComponent',xtype:['component','box'],requires:['Ext.ComponentQuery','Ext.ComponentManager','Ext.util.ProtoElement','Ext.dom.CompositeElement','Ext.scroll.Scroller'],mixins:['Ext.mixin.Inheritable','Ext.util.Floating','Ext.util.Positionable','Ext.util.Observable','Ext.mixin.ComponentDelegation','Ext.mixin.Bindable','Ext.util.Animate','Ext.util.ElementContainer','Ext.util.Renderable','Ext.state.Stateful','Ext.util.Focusable','Ext.mixin.Accessible','Ext.mixin.Keyboard'],uses:['Ext.overrides.*','Ext.Element','Ext.DomHelper','Ext.XTemplate','Ext.ComponentLoader','Ext.layout.Context','Ext.layout.Layout','Ext.layout.component.Auto','Ext.LoadMask','Ext.ZIndexManager','Ext.util.DelayedTask','Ext.resizer.Resizer','Ext.util.ComponentDragger'],statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:'top',DIRECTION_RIGHT:'right',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:Ext.baseCSSPrefix+'aria-highcontrast',cancelLayout:function(comp,isDestroying){var context=this.runningLayoutContext||this.pendingLayouts;if(context){context.cancelComponent(comp,false,isDestroying)}},fromElement:function(node,limit,selector){return Ext.ComponentManager.fromElement(node,limit,selector)},flushLayouts:function(){var me=this,context=me.pendingLayouts;if(context&&context.invalidQueue.length){me.pendingLayouts=null;me.runningLayoutContext=context;Ext.override(context,{runComplete:function(){me.runningLayoutContext=null;var Scroller=Ext.scroll.Scroller,GlobalEvents=Ext.GlobalEvents,result;if(Scroller.viewport){Scroller.viewport.restoreState()}result=this.callParent();if(GlobalEvents.hasListeners.afterlayout){GlobalEvents.fireEvent('afterlayout')}return result}});context.run()}},resumeLayouts:function(flush){if(this.layoutSuspendCount&&! --this.layoutSuspendCount){if(flush){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent('resumelayouts')}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(comp,defer){var me=this,running=me.runningLayoutContext,pending;if(running){running.queueInvalidate(comp)}else{pending=me.pendingLayouts||(me.pendingLayouts=new Ext.layout.Context());pending.queueInvalidate(comp);if(!defer&&!me.layoutSuspendCount&&!comp.isLayoutSuspended()){me.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,clearPropertiesOnDestroy:'async',manageLayoutScroll:true,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:'html',alignTarget:null,autoRender:false,autoShow:false,baseCls:Ext.baseCSSPrefix+'component',childEls:{frameTable:{frame:true},frameTL:{frame:'tl'},frameTC:{frame:'tc'},frameTR:{frame:'tr'},frameML:{frame:'ml'},frameBody:{frame:'mc'},frameMR:{frame:'mr'},frameBL:{frame:'bl'},frameBC:{frame:'bc'},frameBR:{frame:'br'}},componentLayout:'autocomponent',defaultAlign:'c-c',disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var re=['input','select','textarea','optgroup','option','table'];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){re.push('p')}return new RegExp('^(?:'+re.join('|')+')$','i')}()),disabledCls:Ext.baseCSSPrefix+'item-disabled',draggable:false,floating:false,hidden:false,hideMode:'display',maskElement:null,renderTpl:'{%this.renderContent(out,values)%}',resizeHandles:'all',shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:'overwrite',ui:'default',uiCls:[],userCls:null,weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:Ext.baseCSSPrefix+'border-box',componentLayoutCounter:0,contentPaddingProperty:'padding',deferLayouts:false,frameSize:null,horizontalPosProp:'left',isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,rendered:false,rootCls:Ext.baseCSSPrefix+'body',scrollerCls:Ext.baseCSSPrefix+'scroll-scroller',_scrollFlags:{auto:{auto:{overflowX:'auto',overflowY:'auto',x:true,y:true,both:true},'false':{overflowX:'auto',overflowY:'hidden',x:true,y:false,both:false},scroll:{overflowX:'auto',overflowY:'scroll',x:true,y:true,both:true}},'false':{auto:{overflowX:'hidden',overflowY:'auto',x:false,y:true,both:false},'false':{overflowX:'hidden',overflowY:'hidden',x:false,y:false,both:false},scroll:{overflowX:'hidden',overflowY:'scroll',x:false,y:true,both:false}},scroll:{auto:{overflowX:'scroll',overflowY:'auto',x:true,y:true,both:true},'false':{overflowX:'scroll',overflowY:'hidden',x:true,y:false,both:false},scroll:{overflowX:'scroll',overflowY:'scroll',x:true,y:true,both:true}},none:{overflowX:'',overflowY:'',x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},'true':{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(config){var me=this,i,len,xhooks,controller,autoScroll,overflowX,overflowY,scrollable;config=config||{};if(config.initialConfig){if(config.isAction){me.baseAction=config}config=config.initialConfig;}else if(config.tagName||config.dom||Ext.isString(config)){config={applyTo:config,id:config.id||config}}me.initialConfig=config;me.getId();me.protoEl=new Ext.util.ProtoElement();me.$calledInitConfig=true;me.initConfig(config);delete me.$calledInitConfig;if(me.scrollable==null){autoScroll=me.autoScroll;if(autoScroll){scrollable=!!autoScroll}else{overflowX=me.overflowX;overflowY=me.overflowY;if(overflowX||overflowY){scrollable={x:(overflowX&&overflowX!=='hidden')?overflowX:false,y:(overflowY&&overflowY!=='hidden')?overflowY:false}}}if(scrollable){me.setScrollable(scrollable)}}xhooks=me.xhooks;if(xhooks){delete me.xhooks;Ext.override(me,xhooks)}me.mixins.elementCt.constructor.call(me);if(!me.validIdRe.test(me.id)){Ext.raise('Invalid component "id": "'+me.id+'"')}if(!me.validIdRe.test(me.itemId)){Ext.raise('Invalid component "itemId": "'+me.itemId+'"')}me.setupProtoEl();if(me.cls){me.initialCls=me.cls;me.protoEl.addCls(me.cls)}if(me.style){me.initialStyle=me.style;me.protoEl.setStyle(me.style)}me.renderData=me.renderData||{};me.initComponent();if(!me.preventRegister){Ext.ComponentManager.register(me)}me.mixins.state.constructor.call(me);me.addStateEvents('resize');controller=me.getController();if(controller){controller.init(me)}if(me.plugins){for(i=0,len=me.plugins.length;i<len;i+=1){me.plugins[i]=me.initPlugin(me.plugins[i])}}me.loader=me.getLoader();if(me.disabled){me.disabled=false;me.disable(true)}if(me.renderTo){me.render(me.renderTo);}if(me.autoShow&&!me.$initParent){me.show()}if(Ext.isDefined(me.disabledClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn('Ext.Component: disabledClass has been deprecated. Please use disabledCls.')}me.disabledCls=me.disabledClass;delete me.disabledClass}if(me.baseAction){me.baseAction.addComponent(me)}},beforeInitConfig:function(){if(!this.$calledInitConfig){Ext.raise('initConfig should not be called by subclasses, it will be called by Ext.Component')}this.mixins.observable.constructor.call(this)},addCls:function(cls){var me=this,el=me.rendered?me.el:me.protoEl;el.addCls.apply(el,arguments);return me},addClsWithUI:function(classes,skip){var me=this,clsArray=[],i=0,uiCls=me.uiCls=Ext.Array.clone(me.uiCls),activeUI=me.activeUI,length,cls;if(typeof classes==="string"){classes=(classes.indexOf(' ')<0)?[classes]:Ext.String.splitWords(classes)}length=classes.length;for(;i<length;i+=1){cls=classes[i];if(cls&&!me.hasUICls(cls)){uiCls.push(cls);if(activeUI){clsArray=clsArray.concat(me.addUIClsToElement(cls))}}}if(skip!==true&&activeUI){me.addCls(clsArray)}return clsArray},afterComponentLayout:function(width,height,oldWidth,oldHeight){var me=this,scroller=me.scrollable;if(++me.componentLayoutCounter===1){me.afterFirstLayout(width,height)}else if(me.manageLayoutScroll&&scroller){scroller.restoreState()}if(width!==oldWidth||height!==oldHeight){me.onResize(width,height,oldWidth,oldHeight)}if(me.floating){me.onAfterFloatLayout()}},addPlugin:function(plugin){var me=this;plugin=me.constructPlugin(plugin);if(me.plugins){me.plugins.push(plugin)}else{me.plugins=[plugin]}if(me.pluginsInitialized){me.initPlugin(plugin)}return plugin},addPropertyToState:function(state,propName,value){var me=this,len=arguments.length;if(len===3||me.hasOwnProperty(propName)){if(len<3){value=me[propName]}if(value!==me.initialConfig[propName]){(state||(state={}))[propName]=value}}return state},addUIClsToElement:function(uiCls){var me=this,baseClsUI=me.baseCls+'-'+me.ui+'-'+uiCls,result=[Ext.baseCSSPrefix+uiCls,me.baseCls+'-'+uiCls,baseClsUI],childEls,childElName,el,suffix;if(me.rendered&&me.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';childEls=me.getChildEls();for(childElName in childEls){suffix=childEls[childElName].frame;if(suffix&&suffix!==true){el=me[childElName];if(el){el.addCls(baseClsUI+suffix)}}}}return result},removeUIClsFromElement:function(uiCls){var me=this,baseClsUI=me.baseCls+'-'+me.ui+'-'+uiCls,result=[Ext.baseCSSPrefix+uiCls,me.baseCls+'-'+uiCls,baseClsUI],childEls,childElName,el,suffix;if(me.rendered&&me.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';childEls=me.getChildEls();for(childElName in childEls){suffix=childEls[childElName].frame;if(suffix&&suffix!==true){el=me[childElName];if(el){el.removeCls(baseClsUI+suffix)}}}}return result},adjustPosition:function(x,y){var me=this,floatParentBox;if(me.isContainedFloater()){floatParentBox=me.floatParent.getTargetEl().getViewRegion();x+=floatParentBox.left;y+=floatParentBox.top}return{x:x,y:y}},afterHide:function(callback,scope){var me=this,container=me.focusableContainer;delete me.getInherited().topmostFocusEvent;me.hiddenByLayout=null;if(me.ownerLayout){me.updateLayout({isRoot:false})}if(container){container.onFocusableChildHide(me)}me.fireHierarchyEvent('hide');me.fireEvent('hide',me);Ext.callback(callback,scope||me)},afterSetPosition:function(x,y){var me=this;me.onPosition(x,y);if(me.hasListeners.move){me.fireEvent('move',me,x,y)}},afterShow:function(animateTarget,callback,scope){var me=this,myEl=me.el,fromBox,toBox,ghostPanel;animateTarget=me.getAnimateTarget(animateTarget);if(!me.ghost){animateTarget=null}if(animateTarget){toBox={x:myEl.getX(),y:myEl.getY(),width:myEl.dom.offsetWidth,height:myEl.dom.offsetHeight};fromBox={x:animateTarget.getX(),y:animateTarget.getY(),width:animateTarget.dom.offsetWidth,height:animateTarget.dom.offsetHeight};me.fireHierarchyEvent('show');ghostPanel=me.ghost();ghostPanel.el.stopAnimation();ghostPanel.setX(-10000);me.ghostBox=toBox;ghostPanel.el.animate({from:fromBox,to:toBox,listeners:{afteranimate:function(){if(!me.destroying){ghostPanel.componentLayout.lastComponentSize=null;me.unghost();me.ghostBox=null;me.onShowComplete(callback,scope)}}}})}else{me.onShowComplete(callback,scope);me.fireHierarchyEvent('show')}},animate:function(animObj){var me=this,hasToWidth,hasToHeight,toHeight,toWidth,to,clearWidth,clearHeight,curWidth,w,curHeight,h,isExpanding,wasConstrained,wasConstrainedHeader,passedCallback,oldOverflow;animObj=animObj||{};to=animObj.to||{};if(Ext.fx.Manager.hasFxBlock(me.id)){return me}hasToWidth=Ext.isDefined(to.width);if(hasToWidth){toWidth=Ext.Number.constrain(to.width,me.minWidth,me.maxWidth)}hasToHeight=Ext.isDefined(to.height);if(hasToHeight){toHeight=Ext.Number.constrain(to.height,me.minHeight,me.maxHeight)}if(!animObj.dynamic&&(hasToWidth||hasToHeight)){curWidth=(animObj.from?animObj.from.width:undefined)||me.getWidth();w=curWidth;curHeight=(animObj.from?animObj.from.height:undefined)||me.getHeight();h=curHeight;isExpanding=false;if(hasToHeight&&toHeight>curHeight){h=toHeight;isExpanding=true}if(hasToWidth&&toWidth>curWidth){w=toWidth;isExpanding=true}if(hasToHeight||hasToWidth){oldOverflow=me.el.getStyle('overflow');if(oldOverflow!=='hidden'){me.el.setStyle('overflow','hidden')}}if(isExpanding){clearWidth=!Ext.isNumber(me.width);clearHeight=!Ext.isNumber(me.height);me.setSize(w,h);me.el.setSize(curWidth,curHeight);if(clearWidth){delete me.width}if(clearHeight){delete me.height}}if(hasToWidth){to.width=toWidth}if(hasToHeight){to.height=toHeight}}wasConstrained=me.constrain;wasConstrainedHeader=me.constrainHeader;if(wasConstrained||wasConstrainedHeader){me.constrain=me.constrainHeader=false;passedCallback=animObj.callback;animObj.callback=function(){me.constrain=wasConstrained;me.constrainHeader=wasConstrainedHeader;if(passedCallback){passedCallback.call(animObj.scope||me,arguments)}if(oldOverflow!=='hidden'){me.el.setStyle('overflow',oldOverflow)}}}return me.mixins.animate.animate.apply(me,arguments)},applyScrollable:function(scrollable,oldScrollable){var me=this,rendered=me.rendered,scrollableCfg;if(scrollable){if(scrollable===true||typeof scrollable==='string'){scrollableCfg=me._scrollableCfg[scrollable];if(!scrollableCfg){Ext.raise("'"+scrollable+"' is not a valid value for 'scrollable'")}scrollable=scrollableCfg}if(oldScrollable){oldScrollable.setConfig(scrollable);scrollable=oldScrollable}else{scrollable=Ext.Object.chain(scrollable);if(rendered){scrollable.element=me.getOverflowEl()}scrollable=Ext.scroll.Scroller.create(scrollable,me.scrollableType);scrollable.component=me }}else if(oldScrollable){scrollable=oldScrollable;oldScrollable.setConfig({x:false,y:false})}if(me.rendered&&!me.destroying&&!me.destroyed){if(scrollable){me.getOverflowStyle();}else{me.scrollFlags=me._scrollFlags.none}me.updateLayout()}return scrollable},applyTouchAction:function(touchAction,oldTouchAction){if(oldTouchAction!=null){touchAction=Ext.merge({},oldTouchAction,touchAction)}return touchAction},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(x,y,animate){var me=this,pos=null,x0,hasX,hasY,adj;if(x){if(Ext.isNumber(x0=x[0])){animate=y;y=x[1];x=x0}else if((x0=x.x)!==undefined){animate=y;y=x.y;x=x0}}if(me.constrain||me.constrainHeader){pos=me.calculateConstrainedPosition(null,[x,y],true);if(pos){x=pos[0];y=pos[1]}}hasX=(x!==undefined);hasY=(y!==undefined);if(hasX||hasY){me.x=x;me.y=y;adj=me.adjustPosition(x,y);pos={x:adj.x,y:adj.y,anim:animate,hasX:hasX,hasY:hasY}}return pos},beforeShow:Ext.emptyFn,bubble:function(fn,scope,args){var p=this;while(p){if(fn.apply(scope||p,args||[p])===false){break}p=p.getBubbleTarget()}return this},clearListeners:function(){var me=this;me.mixins.observable.clearListeners.call(me);me.mixins.componentDelegation.clearDelegatedListeners.call(me)},cloneConfig:function(overrides){overrides=overrides||{};var id=overrides.id||Ext.id(),cfg=Ext.applyIf(overrides,this.initialConfig),self;cfg.id=id;self=Ext.getClass(this);return new self(cfg)},destroy:function(){var me=this;if(!me.hasListeners.beforedestroy||me.fireEvent('beforedestroy',me)!==false){me.isDestroying=me.destroying=true;me.doDestroy();me.clearListeners();me.isDestroying=me.destroying=false;me.callParent();me.mixins.componentDelegation.destroyComponentDelegation.call(me);me.mixins.observable.destroyObservable.call(me,true)}},doDestroy:function(){var me=this,container=me.focusableContainer,selectors=me.renderSelectors,selector,ownerCt,el;ownerCt=me.floatParent||me.ownerCt;if(me.floating){delete me.floatParent;if(me.zIndexManager&&!me.zIndexManager.destroyed){me.zIndexManager.unregister(me)}me.floating=true}me.removeBindings();if(!me.beforeDestroy.$emptyFn){me.beforeDestroy()}me.destroyBindable();if(ownerCt&&ownerCt.remove){ownerCt.remove(me,false)}me.stopAnimation();if(me.rendered){Ext.destroy(me.loadMask,me.dd,me.resizer,me.proxy,me.proxyWrap,me.resizerComponent,me.scrollable,me.contentEl)}if(container){container.onFocusableChildDestroy(me)}if(me.focusable){me.destroyFocusable()}Ext.destroy(me.componentLayout,me.loadMask,me.floatingDescendants);if(!me.onDestroy.$emptyFn){me.onDestroy()}Ext.destroy(me.plugins);if(me.rendered){Ext.Component.cancelLayout(me,true)}me.componentLayout=null;if(me.hasListeners.destroy){me.fireEvent('destroy',me)}if(!me.preventRegister){Ext.ComponentManager.unregister(me)}me.mixins.state.destroy.call(me);if(me.floating){me.onFloatDestroy()}if(me.rendered){if(me.showListenerIE){me.showListenerIE.destroy();me.showListenerIE=null}if(!me.preserveElOnDestroy){me.el.destroy()}me.el.component=null;me.mixins.elementCt.destroy.call(me);if(selectors){for(selector in selectors){if(selectors.hasOwnProperty(selector)){el=me[selector];if(el){delete me[selector];el.destroy()}}}}me.rendered=false}},disable:function(silent,fromParent){var me=this,container=me.focusableContainer,inherited=me.getInherited();if(!fromParent){inherited.disabled=true;me.savedDisabled=true}if(me.maskOnDisable){inherited.disableMask=true}if(!me.disabled){if(container){container.beforeFocusableChildDisable(me)}me.addCls(me.disabledCls);if(me.rendered){me.onDisable()}else{me.disableOnRender=true}me.disabled=true;if(silent!==true){me.fireEvent('disable',me)}if(container){container.onFocusableChildDisable(me)}}return me},doFireEvent:function(eventName,args,bubbles){var me=this,ret;ret=me.mixins.observable.doFireEvent.call(me,eventName,args,bubbles);if(ret!==false&&!me.destroyed){ret=me.mixins.componentDelegation.doFireDelegatedEvent.call(me,eventName,args)}return ret},enable:function(silent,fromParent){var me=this,container=me.focusableContainer,inherited=me.getInherited();if(!fromParent){delete me.getInherited().disabled;me.savedDisabled=false}if(me.maskOnDisable){delete inherited.disableMask}if(me.disabled){if(!(fromParent&&inherited.hasOwnProperty('disabled'))){if(container){container.beforeFocusableChildEnable(me)}me.disableOnRender=false;me.removeCls(me.disabledCls);if(me.rendered){me.onEnable()}me.disabled=false;if(silent!==true){me.fireEvent('enable',me)}if(container){container.onFocusableChildEnable(me)}}}return me},findParentBy:function(fn){var p;for(p=this.getRefOwner();p&&!fn(p,this);p=p.getRefOwner()){}return p||null},findParentByType:function(xtype){return Ext.isFunction(xtype)?this.findParentBy(function(p){return p.self===xtype||p.constructor===xtype}):this.up(xtype)},findPlugin:function(ptype){var i,plugins=this.plugins,ln=plugins&&plugins.length;for(i=0;i<ln;i+=1){if(plugins[i].ptype===ptype){return plugins[i]}}},getAnimateTarget:function(target){target=target||this.animateTarget;if(target){target=target.isComponent?target.getEl():Ext.get(target)}return target||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var me=this;if(!me.componentLayout||!me.componentLayout.isLayout){me.setComponentLayout(Ext.layout.Layout.create(me.componentLayout,'autocomponent'))}return me.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(inheritedState){var me=this,layout=me.componentLayout;if(me.hidden){inheritedState.hidden=true}if(me.collapseImmune){inheritedState.collapseImmune=true}if(me.modelValidation!==undefined){inheritedState.modelValidation=me.modelValidation}if(me.savedDisabled){inheritedState.disabled=true}me.mixins.bindable.initInheritedState.call(me,inheritedState);if(layout&&layout.initInheritedState){layout.initInheritedState(inheritedState)}},getId:function(){var me=this,xtype;if(!(me.id||(me.id=me.initialConfig.id))){xtype=me.getXType();if(xtype){xtype=xtype.replace(Ext.Component.INVALID_ID_CHARS_Re,'-')}else{xtype=Ext.name.toLowerCase()+'-comp'}me.id=xtype+'-'+me.getAutoId()}return me.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var me=this,loader=me.loader;if(loader){if(!loader.isLoader){me.loader=new Ext.ComponentLoader(Ext.apply({target:me},loader))}else{loader.setTarget(me)}return me.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(id){var i,plugins=this.plugins,ln=plugins&&plugins.length,plugin;for(i=0;i<ln;i+=1){plugin=plugins[i];if(plugin.id===id||plugin.pluginId===id){return plugin}}return null},getPosition:function(local){var me=this,xy,isContainedFloater=me.isContainedFloater(),floatParentBox;if((local===true)&&!isContainedFloater){return[me.getLocalX(),me.getLocalY()]}xy=me.getXY();if((local===true)&&isContainedFloater){floatParentBox=me.floatParent.getTargetEl().getViewRegion();xy[0]-=floatParentBox.left;xy[1]-=floatParentBox.top}return xy},getScrollX:function(){var scroller=this.getScrollable();return scroller?scroller.getPosition().x:0},getScrollY:function(){var scroller=this.getScrollable();return scroller?scroller.getPosition().y:0},getSize:function(contentSize){return this.el.getSize(contentSize)},getSizeModel:function(ownerCtSizeModel){var me=this,models=Ext.layout.SizeModel,ownerContext=me.componentLayout.ownerContext,width=me.width,height=me.height,typeofWidth,typeofHeight,hasPixelWidth,hasPixelHeight,heightModel,ownerLayout,policy,shrinkWrap,topLevel,widthModel,isFloating=me.floating||me.floated;if(ownerContext){widthModel=ownerContext.widthModel;heightModel=ownerContext.heightModel}if(!widthModel||!heightModel){hasPixelWidth=((typeofWidth=typeof width)==='number');hasPixelHeight=((typeofHeight=typeof height)==='number');topLevel=isFloating||!(ownerLayout=me.ownerLayout);if(topLevel){policy=Ext.layout.Layout.prototype.autoSizePolicy;shrinkWrap=isFloating?3:me.shrinkWrap;if(hasPixelWidth){widthModel=models.configured}if(hasPixelHeight){heightModel=models.configured}}else{policy=ownerLayout.getItemSizePolicy(me,ownerCtSizeModel);shrinkWrap=ownerLayout.isItemShrinkWrap(me)}if(ownerContext){ownerContext.ownerSizePolicy=policy}shrinkWrap=(shrinkWrap===true)?3:(shrinkWrap||0);if(topLevel&&shrinkWrap){if(width&&typeofWidth==='string'){shrinkWrap&=2;}if(height&&typeofHeight==='string'){shrinkWrap&=1;}}if(shrinkWrap!==3){if(!ownerCtSizeModel){ownerCtSizeModel=me.ownerCt&&me.ownerCt.getSizeModel()}if(ownerCtSizeModel){shrinkWrap|=(ownerCtSizeModel.width.shrinkWrap?1:0)|(ownerCtSizeModel.height.shrinkWrap?2:0)}}if(!widthModel){if(!policy.setsWidth){if(hasPixelWidth){widthModel=models.configured}else{widthModel=(shrinkWrap&1)?models.shrinkWrap:models.natural}}else if(policy.readsWidth){if(hasPixelWidth){widthModel=models.calculatedFromConfigured}else{widthModel=(shrinkWrap&1)?models.calculatedFromShrinkWrap:models.calculatedFromNatural}}else{widthModel=models.calculated}}if(!heightModel){if(!policy.setsHeight){if(hasPixelHeight){heightModel=models.configured}else{heightModel=(shrinkWrap&2)?models.shrinkWrap:models.natural}}else if(policy.readsHeight){if(hasPixelHeight){heightModel=models.calculatedFromConfigured}else{heightModel=(shrinkWrap&2)?models.calculatedFromShrinkWrap:models.calculatedFromNatural}}else{heightModel=models.calculated}}}return widthModel.pairsByHeightOrdinal[heightModel.ordinal]},getState:function(){var me=this,state=null,sizeModel=me.getSizeModel();if(sizeModel.width.configured){state=me.addPropertyToState(state,'width')}if(sizeModel.height.configured){state=me.addPropertyToState(state,'height')}return state},getUserCls:function(){return this.userCls},setUserCls:function(cls){var me=this,was=me.userCls;if(cls!==was){me.userCls=cls;if(me.rendered){me.el.replaceCls(was,cls)}}return was},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var self=this.self,xtypes,parentPrototype,parentXtypes;if(!self.xtypes){xtypes=[];parentPrototype=this;while(parentPrototype){parentXtypes=parentPrototype.xtypes;if(parentXtypes!==undefined){xtypes.unshift.apply(xtypes,parentXtypes)}parentPrototype=parentPrototype.superclass}self.xtypeChain=xtypes;self.xtypes=xtypes.join('/')}return self.xtypes},hasCls:function(className){var el=this.rendered?this.el:this.protoEl;return el.hasCls.apply(el,arguments)},hasUICls:function(cls){var me=this,uiCls=me.uiCls||[];return Ext.Array.contains(uiCls,cls)},hide:function(animateTarget,callback,scope){var me=this,container=me.focusableContainer;if(me.pendingShow){me.pendingShow=false}if(!(me.rendered&&!me.isVisible())){if(!me.hasListeners.beforehide||me.fireEvent('beforehide',me)!==false||me.hierarchicallyHidden){me.getInherited().hidden=me.hidden=true;if(container){container.beforeFocusableChildHide(me)}me.fireHierarchyEvent('beforehide');if(me.rendered){me.onHide.apply(me,arguments)}}}return me},initComponent:function(){var me=this,width=me.width,height=me.height;if(me.plugins&&!me.plugins.processed){me.plugins=me.constructPlugins()}me.pluginsInitialized=true;if(width!=null||height!=null){me.setSize(width,height)}if(me.listeners){me.on(me.listeners);me.listeners=null;}if(me.focusable){me.initFocusable()}},initEvents:function(){var me=this,afterRenderEvents=me.afterRenderEvents,afterRenderEvent,el,property,index,len;if(afterRenderEvents){for(property in afterRenderEvents){el=me[property];if(el&&el.on){afterRenderEvent=afterRenderEvents[property];for(index=0,len=afterRenderEvent.length;index<len;index+=1){me.mon(el,afterRenderEvent[index])}}}}if(me.focusable){me.initFocusableEvents()}me.initKeyMap()},is:function(selector){return Ext.ComponentQuery.is(this,selector)},isDescendantOf:function(ancestor){var p;for(p=this.getRefOwner();p&&p!==ancestor;p=p.getRefOwner()){}return p||null},isAncestor:function(possibleDescendant){while(possibleDescendant){if(possibleDescendant.getRefOwner()===this){return true}possibleDescendant=possibleDescendant.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var child=this,hidden=false,parent,parentInheritedState;for(;(parent=child.ownerCt||child.floatParent);child=parent){parentInheritedState=parent.getInherited();if(parentInheritedState.hidden){hidden=true;break}if(child.getInherited().collapseImmune){if(parent.collapsed&&!child.collapseImmune){hidden=true;break}}else{hidden=!!parentInheritedState.collapsed;break}}return hidden},isLayoutChild:function(ownerCandidate){return!this.floating&&!!this.up(ownerCandidate)},isLayoutRoot:function(){var me=this,ownerLayout=me.ownerLayout;if(!ownerLayout||me._isLayoutRoot||me.floating){return true}return ownerLayout.isItemLayoutRoot(me)},isLayoutSuspended:function(){var comp=this,ownerLayout;while(comp){if(comp.layoutSuspendCount||comp.suspendLayout){return true}ownerLayout=comp.ownerLayout;if(!ownerLayout){break}comp=ownerLayout.owner}return false},isVisible:function(deep){var me=this,hidden;if(me.hidden||!me.rendered||me.destroyed){hidden=true}else if(deep){hidden=me.isHierarchicallyHidden()}return!hidden},isXType:function(xtype,shallow){return shallow?(Ext.Array.indexOf(this.xtypes,xtype)!==-1):!!this.xtypesMap[xtype]},isMasked:function(deep){var me=this;return!!(me.masked||(me.loadMask&&me.loadMask.isVisible())||(deep&&me.getInherited().masked))},lookupTpl:function(name){return Ext.XTemplate.getTpl(this,name)},setMasked:function(isMasked){var me=this,container=me.focusableContainer;if(isMasked){me.masked=true;me.getInherited().masked=isMasked}else{me.masked=false;delete me.getInherited().masked}if(container){container.onFocusableChildMasked(me,isMasked)}return me},mask:function(msg,msgCls,elHeight){var box=this.lastBox,target=this.getMaskTarget()||this.el;if(box){elHeight=box.height}target.mask(msg,msgCls,elHeight);this.setMasked(true)},nextNode:function(selector,includeSelf){var node=this,ownerCt=node.ownerCt,result,it,len,i,sib;if(includeSelf&&node.is(selector)){return node}if(ownerCt){for(it=ownerCt.items.items,i=Ext.Array.indexOf(it,node)+1,len=it.length;i<len;i+=1){sib=it[i];if(sib.is(selector)){return sib}if(sib.down){result=sib.down(selector);if(result){return result}}}return ownerCt.nextNode(selector)}return null},nextSibling:function(selector){var o=this.ownerCt,it,last,idx,c;if(o){it=o.items;idx=it.indexOf(this)+1;if(idx){if(selector){for(last=it.getCount();idx<last;idx+=1){if((c=it.getAt(idx)).is(selector)){return c}}}else{if(idx<it.getCount()){return it.getAt(idx)}}}}return null},onAdded:function(container,pos,instanced){var me=this;me.ownerCt=container;me.onInheritedAdd(me,instanced);if(me.hasListeners&&me.hasListeners.added){me.fireEvent('added',me,container,pos)}if(Ext.GlobalEvents.hasListeners.added){me.fireHierarchyEvent('added')}},onRemoved:function(destroying){var me=this,refHolder,focusTarget;if(!me.isLayoutMoving&&me.el&&me.el.contains(Ext.Element.getActiveElement())){focusTarget=me.findFocusTarget();if(focusTarget){focusTarget.focus()}}if(Ext.GlobalEvents.hasListeners.removed){me.fireHierarchyEvent('removed')}if(me.hasListeners.removed){me.fireEvent('removed',me,me.ownerCt)}if(!destroying){me.removeBindings()}me.onInheritedRemove(destroying);me.ownerCt=me.ownerLayout=null},onBoxReady:function(width,height){var me=this,label;if(me.ariaLabelledBy||me.ariaDescribedBy){if(me.ariaLabelledBy){label=me.getAriaLabelEl(me.ariaLabelledBy);if(label){me.ariaEl.dom.setAttribute('aria-labelledby',label)}}if(me.ariaDescribedBy){label=me.getAriaLabelEl(me.ariaDescribedBy);if(label){me.ariaEl.dom.setAttribute('aria-describedby',label)}}}if(me.resizable){me.initResizable(me.resizable)}if(me.draggable){me.initDraggable()}if(me.hasListeners.boxready){me.fireEvent('boxready',me,width,height)}},onDestroy:Ext.emptyFn,onDisable:function(){var me=this,dom,nodeName;if(me.focusable){me.disableFocusable()}if(!me.ariaStaticRoles[me.ariaRole]){me.ariaEl.dom.setAttribute('aria-disabled',true)}if(me.maskOnDisable&&!me.getInheritedConfig('disableMask',true)){dom=me.el.dom;nodeName=dom.nodeName;if(me.disabledRe.test(nodeName)){dom.disabled=true}if(!me.nonMaskableRe.test(nodeName)){me.mask()}}},onEnable:function(){var me=this,dom,nodeName;if(me.focusable){me.enableFocusable()}if(!me.ariaStaticRoles[me.ariaRole]){me.ariaEl.dom.setAttribute('aria-disabled',false)}if(me.maskOnDisable&&me.getInherited().hasOwnProperty('masked')){dom=me.el.dom;nodeName=dom.nodeName;if(me.disabledRe.test(nodeName)){dom.disabled=false}if(!me.nonMaskableRe.test(nodeName)){me.unmask()}}},onGlobalShow:function(c){if(this.up(c)){this.getScrollable().restoreState()}},onHide:function(animateTarget,cb,scope){var me=this,ghostPanel,fromSize,toBox;if(!me.ariaStaticRoles[me.ariaRole]&&!me.destroying&&!me.destroyed){me.ariaEl.dom.setAttribute('aria-hidden',true)}me.revertFocus();animateTarget=me.getAnimateTarget(animateTarget);if(!me.ghost){animateTarget=null}if(animateTarget){toBox={x:animateTarget.getX(),y:animateTarget.getY(),width:animateTarget.dom.offsetWidth,height:animateTarget.dom.offsetHeight};ghostPanel=me.ghost();ghostPanel.el.stopAnimation();fromSize=me.getSize();ghostPanel.el.animate({to:toBox,listeners:{afteranimate:function(){if(!me.destroying){ghostPanel.componentLayout.lastComponentSize=null;me.unghost(false);ghostPanel.el.setSize(fromSize);me.afterHide(cb,scope)}}}})}else{me.el.hide()}if(!animateTarget){me.afterHide(cb,scope)}},onPosition:Ext.emptyFn,onResize:function(width,height,oldWidth,oldHeight){var me=this;if(me.floating&&me.constrain){me.doConstrain()}if(me.hasListeners.resize){me.fireEvent('resize',me,width,height,oldWidth,oldHeight)}},onShow:function(){var me=this;if(!me.ariaStaticRoles[me.ariaRole]){me.ariaEl.dom.setAttribute('aria-hidden',false)}me.el.show();me.updateLayout({isRoot:false,context:me._showContext});if(me.floating){if(me.maximized){me.fitContainer()}else if(me.constrain){me.doConstrain()}}},_showContext:{show:true},onShowComplete:function(cb,scope){var me=this,container=me.focusableContainer;if(me.floating){me.onFloatShow()}Ext.callback(cb,scope||me);me.fireEvent('show',me);if(container){container.onFocusableChildShow(me)}delete me.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(selector,includeSelf){var node=this,ownerCt=node.ownerCt,result,it,i,sib;if(includeSelf&&node.is(selector)){return node}if(ownerCt){for(it=ownerCt.items.items,i=Ext.Array.indexOf(it,node)-1;i>-1;i-=1){sib=it[i];if(sib.query){result=sib.query(selector);result=result[result.length-1];if(result){return result}}if(sib.is(selector)){return sib}}return ownerCt.previousNode(selector,true)}return null},previousSibling:function(selector){var o=this.ownerCt,it,idx,c;if(o){it=o.items;idx=it.indexOf(this);if(idx!==-1){if(selector){for(idx-=1;idx>=0;idx-=1){if((c=it.getAt(idx)).is(selector)){return c}}}else{if(idx){return it.getAt(idx-=1)}}}}return null},registerFloatingItem:function(cmp){var me=this;if(!me.floatingDescendants){me.floatingDescendants=new Ext.ZIndexManager(me)}me.floatingDescendants.register(cmp)},removeCls:function(cls){var me=this,el=me.rendered?me.el:me.protoEl;el.removeCls.apply(el,arguments);return me},removeClsWithUI:function(classes,skip){var me=this,clsArray=[],i=0,extArray=Ext.Array,remove=extArray.remove,uiCls=me.uiCls=extArray.clone(me.uiCls),activeUI=me.activeUI,length,cls;if(typeof classes==="string"){classes=(classes.indexOf(' ')<0)?[classes]:Ext.String.splitWords(classes)}length=classes.length;for(i=0;i<length;i+=1){cls=classes[i];if(cls&&me.hasUICls(cls)){remove(uiCls,cls);if(activeUI){clsArray=clsArray.concat(me.removeUIClsFromElement(cls))}}}if(skip!==true&&activeUI){me.removeCls(clsArray)}return clsArray},resumeLayouts:function(flushOptions){var me=this;if(!me.rendered){return}if(!me.layoutSuspendCount){Ext.log.warn('Mismatched call to resumeLayouts - layouts are currently not suspended.')}if(me.layoutSuspendCount&&! --me.layoutSuspendCount){me.suspendLayout=false;if(flushOptions&&!me.isLayoutSuspended()){me.updateLayout(flushOptions)}}},scrollBy:function(deltaX,deltaY,animate){var scroller=this.getScrollable();if(scroller){scroller.scrollBy(deltaX,deltaY,animate)}},scrollTo:function(x,y,animate){var scroller=this.getScrollable();if(scroller){scroller.scrollTo(x,y,animate)}},setAutoScroll:function(scroll){this.setScrollable(!!scroll);return this},setBorder:function(border,targetEl){var me=this,initial=!!targetEl;if(me.rendered||initial){if(!initial){targetEl=me.el}if(!border){border=0}else if(border===true){border='1px'}else{border=this.unitizeBox(border)}targetEl.setStyle('border-width',border);if(!initial){me.updateLayout()}}me.border=border},setDock:function(dock){var me=this,ownerCt=me.ownerCt;if(dock!==me.dock){if(ownerCt&&ownerCt.moveDocked){ownerCt.moveDocked(me,dock)}else{me.dock=dock}}return me},setDisabled:function(disabled){return this[disabled?'disable':'enable']()},setFlex:function(flex){this.flex=flex},setHeight:function(height){return this.setSize(undefined,height)},setLoading:function(load,targetEl){var me=this,config={target:me};if(me.rendered){if(load!==false){if(Ext.isString(load)){config.msg=load}else{Ext.apply(config,load)}if(!me.loadMask||!me.loadMask.isLoadMask){if(targetEl&&config.useTargetEl==null){config.useTargetEl=true}me.loadMask=new Ext.LoadMask(config )}else{Ext.apply(me.loadMask,config)}if(me.loadMask.isVisible()){me.loadMask.syncMaskState()}else{me.loadMask.show()}}else{if(me.loadMask&&me.loadMask.isLoadMask){me.loadMask.hide()}}}return me.loadMask},setMargin:function(margin,preventLayout){var me=this;if(me.rendered){if(!margin&&margin!==0){margin=''}else{if(margin===true){margin=5}margin=this.unitizeBox(margin)}me.margin=margin;me.margin$=null;me.getEl().setStyle('margin',margin);if(!preventLayout){me.updateLayout(me._notAsLayoutRoot)}}else{me.margin=margin}},setOverflowXY:function(overflowX,overflowY){this.setScrollable({x:(overflowX&&overflowX!=='hidden')?overflowX:false,y:(overflowY&&overflowY!=='hidden')?overflowY:false});return this},setPagePosition:function(x,y,animate){var me=this,p,floatParentBox;if(Ext.isArray(x)){y=x[1];x=x[0]}me.pageX=x;me.pageY=y;if(me.floating){if(me.isContainedFloater()){floatParentBox=me.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(x)&&Ext.isNumber(floatParentBox.left)){x-=floatParentBox.left}if(Ext.isNumber(y)&&Ext.isNumber(floatParentBox.top)){y-=floatParentBox.top}}else{p=me.el.translateXY(x,y);x=p.x;y=p.y}me.setPosition(x,y,animate)}else{p=me.el.translateXY(x,y);me.setPosition(p.x,p.y,animate)}return me},setPosition:function(x,y,animate){var me=this,pos=me.beforeSetPosition.apply(me,arguments);if(pos&&me.rendered){x=pos.x;y=pos.y;if(animate){if(x!==me.getLocalX()||y!==me.getLocalY()){me.stopAnimation();me.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(me.afterSetPosition,me,[x,y])},to:{left:x,top:y}},animate))}}else{me.setLocalXY(x,y);me.afterSetPosition(x,y)}}return me},setScrollX:function(x,animate){var scroller=this.getScrollable();if(scroller){scroller.scrollTo(x,null,animate)}},setScrollY:function(y,animate){var scroller=this.getScrollable();if(scroller){scroller.scrollTo(null,y,animate)}},setSize:function(width,height){var me=this,oldWidth=me.width,oldHeight=me.height,widthIsString,heightIsString;if(width&&typeof width==='object'){height=width.height;width=width.width}if(typeof width==='number'){me.width=Ext.Number.constrain(width,me.minWidth,me.maxWidth)}else if(width===null){delete me.width}else if(typeof width==='string'){widthIsString=true;me.width=width}if(typeof height==='number'){me.height=Ext.Number.constrain(height,me.minHeight,me.maxHeight)}else if(height===null){delete me.height}else if(typeof height==='string'){heightIsString=true;me.height=height}if(me.rendered&&me.isVisible()){if(oldWidth!==me.width||oldHeight!==me.height){if(me.liquidLayout||widthIsString||heightIsString){me.el.setSize(me.width,me.height)}me.updateLayout(me._notAsLayoutRoot)}}return me},setStyle:function(prop,value){var el=this.el||this.protoEl;el.setStyle(prop,value);return this},setUI:function(ui){var me=this,uiCls=me.uiCls,activeUI=me.activeUI,classes;if(ui===activeUI){return}if(activeUI){classes=me.removeClsWithUI(uiCls,true);if(classes.length){me.removeCls(classes)}me.removeUIFromElement()}else{me.uiCls=[]}me.ui=ui;me.activeUI=ui;me.addUIToElement();classes=me.addClsWithUI(uiCls,true);if(classes.length){me.addCls(classes)}if(me.rendered){me.updateLayout()}},setVisible:function(visible){return this[visible?'show':'hide']()},setHidden:function(hidden){return this.setVisible(!hidden)},setWidth:function(width){return this.setSize(width)},show:function(animateTarget,cb,scope){var me=this,rendered=me.rendered,container=me.focusableContainer;if(me.hierarchicallyHidden||(me.floating&&!rendered&&me.isHierarchicallyHidden())){if(!rendered){me.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;me.pendingShow=arguments}else{me.pendingShow=true}}else if(rendered&&me.isVisible()){if(me.floating){me.onFloatShow()}}else{if(me.fireEvent('beforeshow',me)!==false){me.hidden=false;delete this.getInherited().hidden;if(container){container.beforeFocusableChildShow(me)}Ext.suspendLayouts();if(!rendered&&(me.autoRender||me.floating)){me.doAutoRender();rendered=me.rendered}if(rendered){me.beforeShow();Ext.resumeLayouts();me.onShow.apply(me,arguments);me.afterShow.apply(me,arguments)}else{Ext.resumeLayouts(true)}}else{me.onShowVeto()}}return me},showAt:function(x,y,animate){var me=this;if(!me.rendered&&(me.autoRender||me.floating)){me.x=x;me.y=y;return me.show()}if(me.floating){me.setPosition(x,y,animate)}else{me.setPagePosition(x,y,animate)}return me.show()},showBy:function(cmp,pos,off){var me=this;if(!me.floating){Ext.log.warn('Using showBy on a non-floating component')}if(me.floating&&cmp){me._lastAlignTarget=cmp;me._lastAlignToPos=pos||me.defaultAlign;me._lastAlignToOffsets=off||me.alignOffset;me.show()}return me},suspendLayouts:function(){var me=this;if(!me.rendered){return}if(++me.layoutSuspendCount===1){me.suspendLayout=true}},toggleCls:function(className,state){if(state===undefined){state=!this.hasCls(className)}return this[state?'addCls':'removeCls'](className)},unitizeBox:function(box){return Ext.Element.unitizeBox(box)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(cmp){var me=this;if(me.floatingDescendants){me.floatingDescendants.unregister(cmp)}},up:function(selector,limit){var result=this.getRefOwner(),limitSelector=typeof limit==='string',limitCount=typeof limit==='number',limitComponent=limit&&limit.isComponent,steps=0;if(selector){for(;result&&!result.destroyed;result=result.getRefOwner()){steps+=1;if(selector.isComponent){if(result===selector){return result}}else{if(Ext.ComponentQuery.is(result,selector)){return result}}if(limitSelector&&result.is(limit)){return}if(limitCount&&steps===limit){return}if(limitComponent&&result===limit){return}}}return result},update:function(htmlOrData,loadScripts,callback,scriptScope){var me=this,isData=(me.tpl&&!Ext.isString(htmlOrData)),container=me.focusableContainer,sizeModel,doLayout,el;if(isData){me.data=(htmlOrData&&htmlOrData.isEntity)?htmlOrData.getData(true):htmlOrData}else{me.html=Ext.isObject(htmlOrData)?Ext.DomHelper.markup(htmlOrData):htmlOrData}if(me.rendered){sizeModel=me.getSizeModel();doLayout=sizeModel.width.shrinkWrap||sizeModel.height.shrinkWrap;if(me.isContainer){el=me.layout.getRenderTarget();doLayout=doLayout||me.items.items.length>0}else{el=me.getTargetEl()}if(isData){me.tpl[me.tplWriteMode](el,me.data||{})}else{el.setHtml(me.html,loadScripts,callback,scriptScope||me)}if(doLayout){me.updateLayout()}if(container){container.onFocusableChildUpdate(me)}}},setHtml:function(html,loadScripts,scriptScope){this.update(html,loadScripts,null,scriptScope)},applyData:function(data){this.update(data)},updateBox:function(box){this.setSize(box.width,box.height);this.setPagePosition(box.x,box.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(options){var me=this,defer,lastBox=me.lastBox,isRoot=options&&options.isRoot,context=options&&options.context;if(lastBox){lastBox.invalid=true}if(!me.rendered||me.layoutSuspendCount||me.suspendLayout){return}if(me.hidden){Ext.Component.cancelLayout(me)}else if(typeof isRoot!=='boolean'){isRoot=me.isLayoutRoot()}if(isRoot||!me.ownerLayout||!me.ownerLayout.onContentChange(me,context)){if(!me.isLayoutSuspended()){defer=(options&&options.hasOwnProperty('defer'))?options.defer:me.deferLayouts;Ext.Component.updateLayout(me,defer)}}},updateMaxHeight:function(maxHeight,oldMaxHeight){this.changeConstraint(maxHeight,oldMaxHeight,'min','max-height','height')},updateMaxWidth:function(maxWidth,oldMaxWidth){this.changeConstraint(maxWidth,oldMaxWidth,'min','max-width','width')},updateMinHeight:function(minHeight,oldMinHeight){this.changeConstraint(minHeight,oldMinHeight,'max','min-height','height')},updateMinWidth:function(minWidth,oldMinWidth){this.changeConstraint(minWidth,oldMinWidth,'max','min-width','width')},updateTouchAction:function(touchAction){var name,childEl,value,hasRootActions;for(name in touchAction){childEl=this[name];value=touchAction[name];if(childEl&&childEl.isElement){childEl.setTouchAction(value)}else{hasRootActions=true}}if(hasRootActions){this.el.setTouchAction(touchAction)}},getAnchorToXY:function(el,anchor,local,mySize){return el.getAnchorXY(anchor,local,mySize)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(x){this.el.setLocalX(x)},setLocalXY:function(x,y){this.el.setLocalXY(x,y)},setLocalY:function(y){this.el.setLocalY(y)},setX:function(x,animate){this.el.setX(x,animate)},setXY:function(xy,animate){this.el.setXY(xy,animate)},setY:function(y,animate){this.el.setY(y,animate)},privates:{addOverCls:function(){var me=this;if(!me.disabled){me.el.addCls(me.overCls)}},addUIToElement:function(){var me=this,baseClsUI=me.baseCls+'-'+me.ui,childEls,childElName,el,suffix;me.addCls(baseClsUI);if(me.rendered&&me.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';childEls=me.getChildEls();for(childElName in childEls){suffix=childEls[childElName].frame;if(suffix&&suffix!==true){el=me[childElName];if(el){el.addCls(baseClsUI+suffix)}}}}},changeConstraint:function(newValue,oldValue,constrainMethod,styleName,sizeName){var me=this,size=me[sizeName];if(newValue!=null&&typeof size==='number'){me[sizeName]=Math[constrainMethod](size,newValue)}if(me.liquidLayout){if(newValue!=null){me.setStyle(styleName,newValue+'px')}else if(oldValue){me.setStyle(styleName,'')}}if(me.rendered){me.updateLayout()}},constructPlugin:function(plugin){var me=this;if(typeof plugin==='string'){plugin=Ext.PluginManager.create({},plugin,me )}else{plugin=Ext.PluginManager.create(plugin,null,me)}return plugin},constructPlugins:function(){var me=this,plugins=me.plugins,result,i,len;if(plugins){result=[];result.processed=true;if(!Ext.isArray(plugins)){plugins=[plugins]}for(i=0,len=plugins.length;i<len;i+=1){result[i]=me.constructPlugin(plugins[i])}}me.pluginsInitialized=true;return result},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=true},doAddListener:function(ename,fn,scope,options,order,caller,manager){var me=this,listeners,option,eventOptions,elementName,element,delegate;if(Ext.isObject(fn)||(options&&options.element)){if(options.element){elementName=options.element;listeners={};listeners[ename]=fn;if(scope){listeners.scope=scope}eventOptions=me.$elementEventOptions;for(option in options){if(eventOptions[option]){listeners[option]=options[option]}}}else{listeners=fn;elementName=ename}element=me[elementName];if(element&&element.isObservable){me.mon(element,listeners)}else{me.afterRenderEvents=me.afterRenderEvents||{};if(!me.afterRenderEvents[elementName]){me.afterRenderEvents[elementName]=[]}me.afterRenderEvents[elementName].push(listeners)}return}if(options){delegate=options.delegate;if(delegate){me.mixins.componentDelegation.addDelegatedListener.call(me,ename,fn,scope,options,order,caller,manager);return}}me.mixins.observable.doAddListener.call(me,ename,fn,scope,options,order,caller,manager)},doRemoveListener:function(eventName,fn,scope){var me=this;me.mixins.observable.doRemoveListener.call(me,eventName,fn,scope);me.mixins.componentDelegation.removeDelegatedListener.call(me,eventName,fn,scope)},fireHierarchyEvent:function(eventName){var globalEvents=Ext.GlobalEvents;if(globalEvents.hasListeners[eventName]){globalEvents.fireEvent(eventName,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var me=this,scroller=me.getScrollable(),flags=me._scrollFlags,x,y,scrollFlags;if(scroller){x=scroller.getX();if(x===true){x='auto'}y=scroller.getY();if(y===true){y='auto'}scrollFlags=flags[x][y]}else{scrollFlags=flags.none}me.scrollFlags=scrollFlags;return{overflowX:scrollFlags.overflowX,overflowY:scrollFlags.overflowY}},getPlugins:function(){var plugins=this.plugins;plugins=(plugins&&plugins.processed)?plugins:this.constructPlugins();return plugins||null},getProxy:function(){var me=this,target;if(!me.proxy){target=Ext.getBody();me.proxy=me.el.createProxy(Ext.baseCSSPrefix+'proxy-el',target,true)}return me.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+'-'+this.ui+'-cell'},getTdType:function(){return this.xtype},getTpl:function(name){Ext.log.warn('getTpl is deprecated, use lookupTpl.');return this.lookupTpl(name)},initCls:function(){var me=this,cls=[me.baseCls],targetCls=me.getComponentLayout().targetCls;if(targetCls){cls.push(targetCls)}if(Ext.isDefined(me.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn('Ext.Component: cmpCls has been deprecated. Please use componentCls.')}me.componentCls=me.cmpCls;delete me.cmpCls}if(me.componentCls){cls.push(me.componentCls)}else{me.componentCls=me.baseCls}return cls},initDraggable:function(){var me=this,dragTarget=(me.resizer&&me.resizer.el!==me.el)?me.resizerComponent=new Ext.Component({el:me.resizer.el,rendered:true,container:me.container}):me,ddConfig=Ext.applyIf({el:dragTarget.getDragEl(),constrainTo:(me.constrain||me.draggable.constrain)?(me.constrainTo||(me.floatParent?me.floatParent.getTargetEl():me.container)):undefined},me.draggable);if(me.constrain||me.constrainDelegate){ddConfig.constrain=me.constrain;ddConfig.constrainDelegate=me.constrainDelegate}me.dd=new Ext.util.ComponentDragger(dragTarget,ddConfig)},initPadding:function(targetEl){var me=this,padding=me.padding;if(padding!=null){if(me.layout&&me.layout.managePadding&&me.contentPaddingProperty==='padding'){targetEl.setStyle('padding',0)}else{targetEl.setStyle('padding',this.unitizeBox((padding===true)?5:padding))}}},initPlugin:function(plugin){plugin.init(this);return plugin},initResizable:function(resizable){var me=this;resizable=Ext.apply({target:me,dynamic:false,constrainTo:(me.constrain||(resizable&&resizable.constrain))?(me.constrainTo||(me.floatParent?me.floatParent.getTargetEl():me.container)):undefined,handles:me.resizeHandles},resizable);resizable.target=me;me.resizer=new Ext.resizer.Resizer(resizable)},initStyles:function(targetEl){var me=this,margin=me.margin,border=me.border,cls=me.cls,style=me.style,x=me.x,y=me.y,liquidLayout=me.liquidLayout,width,height;me.initPadding(targetEl);if(margin!=null){targetEl.setStyle('margin',this.unitizeBox((margin===true)?5:margin))}if(border!=null){me.setBorder(border,targetEl)}if(cls&&cls!==me.initialCls){targetEl.addCls(cls);me.cls=me.initialCls=null}if(style&&style!==me.initialStyle){targetEl.setStyle(style);me.style=me.initialStyle=null}if(x!=null){targetEl.setStyle(me.horizontalPosProp,(typeof x==='number')?(x+'px'):x)}if(y!=null){targetEl.setStyle('top',(typeof y==='number')?(y+'px'):y)}if(!me.ownerCt||me.floating){if(Ext.scopeCss){targetEl.addCls(me.rootCls)}targetEl.addCls(me.borderBoxCls)}if(liquidLayout||!me.getFrameInfo()){width=me.width;height=me.height;if(width!=null){if(typeof width==='number'){targetEl.setStyle('width',width+'px')}else{targetEl.setStyle('width',width)}}if(height!=null){if(typeof height==='number'){targetEl.setStyle('height',height+'px')}else{targetEl.setStyle('height',height)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(ancestor){if(ancestor.isContainer){for(var c=this.ownerCt;c;c=c.ownerCt){if(c===ancestor){return true}}}return false},owns:function(element){var result=false,cmp;if(element.isEvent){element=element.target}else if(element.isElement){element=element.dom}cmp=Ext.Component.fromElement(element);if(cmp){result=(cmp===this)||(!!cmp.up(this))}return result},parseBox:function(box){return Ext.Element.parseBox(box)},reattachToBody:function(){this.isDetached=false},removeManagedListenerItem:function(isClear,managedListener,item,ename,fn,scope){var me=this,element=managedListener.options?managedListener.options.element:null;if(element){element=me[element];if(element&&element.un){if(isClear||(managedListener.item===item&&managedListener.ename===ename&&(!fn||managedListener.fn===fn)&&(!scope||managedListener.scope===scope))){element.un(managedListener.ename,managedListener.fn,managedListener.scope);if(!isClear){Ext.Array.remove(me.managedListeners,managedListener)}}}}else{return me.mixins.observable.removeManagedListenerItem.apply(me,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(plugin){Ext.Array.remove(this.plugins,plugin);plugin.destroy()},removeUIFromElement:function(){var me=this,baseClsUI=me.baseCls+'-'+me.ui,childEls,childElName,el,suffix;me.removeCls(baseClsUI);if(me.rendered&&me.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';childEls=me.getChildEls();for(childElName in childEls){suffix=childEls[childElName].frame;if(suffix&&suffix!==true){el=me[childElName];if(el){el.removeCls(baseClsUI+suffix)}}}}},setComponentLayout:function(layout){var currentLayout=this.componentLayout;if(currentLayout&&currentLayout.isLayout&&currentLayout!==layout){currentLayout.setOwner(null)}this.componentLayout=layout;layout.setOwner(this)},setHiddenState:function(hidden){var me=this,inheritedState=me.getInherited(),zIndexManager=me.zIndexManager;me.hidden=hidden;if(hidden){inheritedState.hidden=true}else{delete inheritedState.hidden}if(zIndexManager){zIndexManager.onComponentShowHide(me)}},setupProtoEl:function(){var cls=this.initCls();this.protoEl.addCls(cls)},wrapPrimaryEl:function(dom){var me=this,el=me.el;if(!el||!el.isElement){me.el=Ext.get(dom)}if(me.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:'addCls',doComponentLayout:function(){this.updateLayout();return this},removeClass:'removeCls',forceComponentLayout:'updateLayout',setDocked:'setDock'}}}},function(Component){var prototype=Component.prototype;(prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(prototype.$eventOptions=Ext.Object.chain(prototype.$eventOptions)).delegate=1;Component.createAlias({on:'addListener',prev:'previousSibling',next:'nextSibling'});Ext.resumeLayouts=function(flush){Component.resumeLayouts(flush)};Ext.suspendLayouts=function(){Component.suspendLayouts()};Ext.batchLayouts=function(fn,scope){Component.suspendLayouts();try{fn.call(scope)}finally{Component.resumeLayouts(true)}};Ext.setGlyphFontFamily=function(fontFamily){Ext._glyphFontFamily=fontFamily};Component.hierarchyEventSource=prototype.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){if(Ext.supports.HighContrastMode){Ext.getBody().addCls(Component.ariaHighContrastModeCls)}})});